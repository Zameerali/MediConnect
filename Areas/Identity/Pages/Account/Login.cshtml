@page
@model LoginModel



@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-center align-items-center" style="height: 80vh;">
    <div class="login-container">
        <h3 class="text-center mb-4">Login to MediConnect</h3>
        <form id="account" method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
            <div class="mb-3">
                <input asp-for="Input.Email" class="form-control" autocomplete="username" aria-required="true" placeholder="name@example.com" />
                <label asp-for="Input.Email" class="form-label">Email</label>
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <input asp-for="Input.Password" class="form-control" autocomplete="current-password" aria-required="true" placeholder="password" />
                <label asp-for="Input.Password" class="form-label">Password</label>
                <span asp-validation-for="Input.Password" class="text-danger"></span>
            </div>

            @* <div class="mb-3"> *@
            @*     <label class="form-label d-block fw-bold">Login as:</label> *@
            @*     <div class="form-check form-check-inline"> *@
            @*         <input class="form-check-input" type="radio" name="userType" id="patientRadio" value="patient" checked> *@
            @*         <label class="form-check-label" for="patientRadio">Patient</label> *@
            @*     </div> *@
            @*     <div class="form-check form-check-inline"> *@
            @*         <input class="form-check-input" type="radio" name="userType" id="doctorRadio" value="doctor"> *@
            @*         <label class="form-check-label" for="doctorRadio">Doctor</label> *@
            @*     </div> *@
            @* </div> *@

            <button id="login-submit" type="submit" class="w-100 btn btn-lg btn-primary">Log in</button>
        </form>

        <p class="text-center mt-3">Don't have an account? <a asp-area="Identity" asp-page="/Account/Register">Sign up</a></p>
    </div>
</div>

<style>
    .login-container {
        width: 350px;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    }
</style>

@* <script> *@
@*     document.getElementById("loginForm").addEventListener("submit", function (e) { *@
@*         e.preventDefault(); *@

@*         const userType = document.querySelector('input[name="userType"]:checked').value; *@
@*         const form = e.target; *@

@*         if (userType === "patient") { *@
@*             form.action = "/Patient/Dashboard"; *@
@*         } else { *@
@*             form.action = "/Doctor/Dashboard"; *@
@*         } *@

@*         form.submit(); *@
@*     }); *@
@* </script> *@
